{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dhior\\\\iStar3\\\\react hook-auth-jwt\\\\src\\\\components\\\\product-list.component.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport ProductDataService from \"../services/product.service\";\nimport { Link } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\"; // export default class ProductList extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.onChangeSearchTitle = this.onChangeSearchTitle.bind(this);\n//     this.retrieveProduct = this.retrieveProduct.bind(this);\n//     this.refreshList = this.refreshList.bind(this);\n//     this.setActiveProduct = this.setActiveProduct.bind(this);\n//     this.removeAllProduct = this.removeAllProduct.bind(this);\n//     this.searchTitle = this.searchTitle.bind(this);\n//     this.state = {\n//       product: [],\n//       currentProduct: null,\n//       currentIndex: -1,\n//       searchTitle: \"\"\n//     };\n//   }\n//   componentDidMount() {\n//     this.retrieveProduct();\n//   }\n//   onChangeSearchTitle(e) {\n//     const searchTitle = e.target.value;\n//     this.setState({\n//       searchTitle: searchTitle\n//     });\n//   }\n//   retrieveProduct() {\n//     ProductDataService.getUser(AuthService.getCurrentUser().id)\n//       .then(response => {\n//         this.setState({\n//           product: response.data\n//         });\n//         console.log(response.data);\n//       })\n//       .catch(e => {\n//         console.log(e);\n//       });\n//   }\n//   refreshList() {\n//     this.retrieveProduct();\n//     this.setState({\n//       currentProduct: null,\n//       currentIndex: -1\n//     });\n//   }\n//   setActiveProduct(product, index) {\n//     this.setState({\n//       currentProduct: product,\n//       currentIndex: index\n//     });\n//   }\n//   removeAllProduct() {\n//     console.log(\"tets\");\n//     ProductDataService.deleteUser(AuthService.getCurrentUser().id)\n//       .then(response => {\n//         console.log(response.data);\n//         this.refreshList();\n//       })\n//       .catch(e => {\n//         console.log(e);\n//       });\n//   }\n//   searchTitle() {\n//     ProductDataService.findByTitle(this.state.searchTitle)\n//       .then(response => {\n//         this.setState({\n//           product: response.data\n//         });\n//         console.log(response.data);\n//       })\n//       .catch(e => {\n//         console.log(e);\n//       });\n//   }\n//   render() {\n//     const { searchTitle, product, currentProduct, currentIndex } = this.state;\n//     return (\n//       <div className=\"list row\">\n//         <div className=\"col-md-8\">\n//           <div className=\"input-group mb-3\">\n//             <input\n//               type=\"text\"\n//               className=\"form-control\"\n//               placeholder=\"Search by title\"\n//               value={searchTitle}\n//               onChange={this.onChangeSearchTitle}\n//             />\n//             <div className=\"input-group-append\">\n//               <button\n//                 className=\"btn btn-outline-secondary\"\n//                 type=\"button\"\n//                 onClick={this.searchTitle}\n//               >\n//                 Search\n//               </button>\n//             </div>\n//           </div>\n//         </div>\n//         <div className=\"col-md-6\">\n//           <h4>Products List</h4>\n//           <ul className=\"list-group\">\n//             {product &&\n//               product.map((arc, index) => (\n//                 <li\n//                   className={\n//                     \"list-group-item \" +\n//                     (index === currentIndex ? \"active\" : \"\")\n//                   }\n//                   onClick={() => this.setActiveProduct(arc, index)}\n//                   key={index}\n//                 >\n//                   {arc.title}\n//                 </li>\n//               ))}\n//           </ul>\n//           <button className=\"m-3 btn btn-sm btn-danger\" onClick={this.removeAllProduct}>\n//             Remove All\n//           </button>\n//         </div>\n//         <div className=\"col-md-6\">\n//           {currentProduct ? (\n//             <div>\n//               <h4>Product</h4>\n//               <div>\n//                 <label>\n//                   <strong>Title:</strong>\n//                 </label>{\" \"}\n//                 {currentProduct.title}\n//               </div>\n//               <div>\n//                 <label>\n//                   <strong>Description:</strong>\n//                 </label>{\" \"}\n//                 {currentProduct.description}\n//               </div>\n//               <div>\n//                 <label>\n//                   <strong>Status:</strong>\n//                 </label>{\" \"}\n//                 {currentProduct.published ? \"Published\" : \"Pending\"}\n//               </div>\n//               <Link\n//                 to={\"/product/\" + currentProduct.id}\n//                 className=\"badge badge-warning\"\n//               >\n//                 Edit\n//               </Link>\n//             </div>\n//           ) : (\n//             <div>\n//               <br />\n//               <p>Please click on a Product...</p>\n//             </div>\n//           )}\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\nconst ProductList = () => {\n  const [products, setProducts] = useState([]);\n  const [currentProduct, setCurrentProduct] = useState(null);\n  const [currentIndex, setCurrentIndex] = useState(-1);\n  const [searchTitle, setSearchTitle] = useState(\"\");\n  useEffect(() => {\n    retrieveProducts();\n  }, []);\n\n  const onChangeSearchTitle = e => {\n    const searchTitle = e.target.value;\n    setSearchTitle(searchTitle);\n  };\n\n  const retrieveProducts = () => {\n    ProductDataService.getUser(AuthService.getCurrentUser().id).then(response => {\n      setProducts(response.data);\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const refreshList = () => {\n    retrieveProducts();\n    setCurrentProduct(null);\n    setCurrentIndex(-1);\n  };\n\n  const setActiveProduct = (product, index) => {\n    setCurrentIndex(index);\n    setCurrentProduct(product);\n  };\n\n  const removeAllProduct = () => {\n    ProductDataService.deleteUser(AuthService.getCurrentUser().id).then(response => {\n      console.log(response.data);\n      refreshList();\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const findByTitle = () => {\n    ProductDataService.findByTitle(searchTitle).then(response => {\n      setProducts(response.data);\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Search by title\",\n    value: searchTitle,\n    onChange: onChangeSearchTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-secondary\",\n    type: \"button\",\n    onClick: findByTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 11\n    }\n  }, \"Search\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }\n  }, \"Products List\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }\n  }, products && products.map((arc, index) => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item \" + (index === currentIndex ? \"active\" : \"\"),\n    onClick: () => setActiveProduct(arc, index),\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }\n  }, arc.title))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"m-3 btn btn-sm btn-danger\",\n    onClick: removeAllProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }\n  }, \"Remove All\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 5\n    }\n  }, currentProduct ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }, \"Product\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 15\n    }\n  }, \"Title:\")), \" \", currentProduct.title), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 15\n    }\n  }, \"Description:\")), \" \", currentProduct.description), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 15\n    }\n  }, \"Status:\")), \" \", currentProduct.published ? \"Published\" : \"Pending\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/product/\" + currentProduct.id,\n    className: \"badge badge-warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 11\n    }\n  }, \"Edit\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 11\n    }\n  }, \"Please click on a Product...\"))));\n};\n\nexport default ProductList;","map":{"version":3,"sources":["C:/Users/dhior/iStar3/react hook-auth-jwt/src/components/product-list.component.js"],"names":["React","Component","useState","useEffect","ProductDataService","Link","AuthService","ProductList","products","setProducts","currentProduct","setCurrentProduct","currentIndex","setCurrentIndex","searchTitle","setSearchTitle","retrieveProducts","onChangeSearchTitle","e","target","value","getUser","getCurrentUser","id","then","response","data","console","log","catch","refreshList","setActiveProduct","product","index","removeAllProduct","deleteUser","findByTitle","map","arc","title","description","published"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,OAAOC,kBAAP,MAA+B,6BAA/B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,0BAAxB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,MAAMC,WAAW,GAAG,MAAM;AACxB,QAAM,CAACC,QAAD,EAAYC,WAAZ,IAA2BP,QAAQ,CAAC,EAAD,CAAzC;AACA,QAAM,CAACQ,cAAD,EAAiBC,iBAAjB,IAAsCT,QAAQ,CAAC,IAAD,CAApD;AACA,QAAM,CAACU,YAAD,EAAeC,eAAf,IAAmCX,QAAQ,CAAC,CAAC,CAAF,CAAjD;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAg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","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport ProductDataService from \"../services/product.service\";\nimport { Link } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\n\n// export default class ProductList extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.onChangeSearchTitle = this.onChangeSearchTitle.bind(this);\n//     this.retrieveProduct = this.retrieveProduct.bind(this);\n//     this.refreshList = this.refreshList.bind(this);\n//     this.setActiveProduct = this.setActiveProduct.bind(this);\n//     this.removeAllProduct = this.removeAllProduct.bind(this);\n//     this.searchTitle = this.searchTitle.bind(this);\n\n//     this.state = {\n//       product: [],\n//       currentProduct: null,\n//       currentIndex: -1,\n//       searchTitle: \"\"\n//     };\n//   }\n\n//   componentDidMount() {\n//     this.retrieveProduct();\n//   }\n\n//   onChangeSearchTitle(e) {\n//     const searchTitle = e.target.value;\n\n//     this.setState({\n//       searchTitle: searchTitle\n//     });\n//   }\n\n//   retrieveProduct() {\n//     ProductDataService.getUser(AuthService.getCurrentUser().id)\n//       .then(response => {\n//         this.setState({\n//           product: response.data\n//         });\n//         console.log(response.data);\n//       })\n//       .catch(e => {\n//         console.log(e);\n//       });\n//   }\n\n//   refreshList() {\n//     this.retrieveProduct();\n//     this.setState({\n//       currentProduct: null,\n//       currentIndex: -1\n//     });\n//   }\n\n//   setActiveProduct(product, index) {\n//     this.setState({\n//       currentProduct: product,\n//       currentIndex: index\n//     });\n//   }\n\n//   removeAllProduct() {\n//     console.log(\"tets\");\n//     ProductDataService.deleteUser(AuthService.getCurrentUser().id)\n//       .then(response => {\n//         console.log(response.data);\n//         this.refreshList();\n//       })\n//       .catch(e => {\n//         console.log(e);\n//       });\n//   }\n\n//   searchTitle() {\n//     ProductDataService.findByTitle(this.state.searchTitle)\n//       .then(response => {\n//         this.setState({\n//           product: response.data\n//         });\n//         console.log(response.data);\n//       })\n//       .catch(e => {\n//         console.log(e);\n//       });\n//   }\n\n//   render() {\n//     const { searchTitle, product, currentProduct, currentIndex } = this.state;\n\n//     return (\n//       <div className=\"list row\">\n//         <div className=\"col-md-8\">\n//           <div className=\"input-group mb-3\">\n//             <input\n//               type=\"text\"\n//               className=\"form-control\"\n//               placeholder=\"Search by title\"\n//               value={searchTitle}\n//               onChange={this.onChangeSearchTitle}\n//             />\n//             <div className=\"input-group-append\">\n//               <button\n//                 className=\"btn btn-outline-secondary\"\n//                 type=\"button\"\n//                 onClick={this.searchTitle}\n//               >\n//                 Search\n//               </button>\n//             </div>\n//           </div>\n//         </div>\n//         <div className=\"col-md-6\">\n//           <h4>Products List</h4>\n\n//           <ul className=\"list-group\">\n//             {product &&\n//               product.map((arc, index) => (\n//                 <li\n//                   className={\n//                     \"list-group-item \" +\n//                     (index === currentIndex ? \"active\" : \"\")\n//                   }\n//                   onClick={() => this.setActiveProduct(arc, index)}\n//                   key={index}\n//                 >\n//                   {arc.title}\n//                 </li>\n//               ))}\n//           </ul>\n\n//           <button className=\"m-3 btn btn-sm btn-danger\" onClick={this.removeAllProduct}>\n//             Remove All\n//           </button>\n//         </div>\n//         <div className=\"col-md-6\">\n//           {currentProduct ? (\n//             <div>\n//               <h4>Product</h4>\n//               <div>\n//                 <label>\n//                   <strong>Title:</strong>\n//                 </label>{\" \"}\n//                 {currentProduct.title}\n//               </div>\n//               <div>\n//                 <label>\n//                   <strong>Description:</strong>\n//                 </label>{\" \"}\n//                 {currentProduct.description}\n//               </div>\n//               <div>\n//                 <label>\n//                   <strong>Status:</strong>\n//                 </label>{\" \"}\n//                 {currentProduct.published ? \"Published\" : \"Pending\"}\n//               </div>\n\n//               <Link\n//                 to={\"/product/\" + currentProduct.id}\n//                 className=\"badge badge-warning\"\n//               >\n//                 Edit\n//               </Link>\n//             </div>\n//           ) : (\n//             <div>\n//               <br />\n//               <p>Please click on a Product...</p>\n//             </div>\n//           )}\n//         </div>\n//       </div>\n//     );\n//   }\n// }\n\n\nconst ProductList = () => {\n  const [products , setProducts] = useState([]);\n  const [currentProduct, setCurrentProduct] = useState(null);\n  const [currentIndex, setCurrentIndex] =  useState(-1);\n  const [searchTitle, setSearchTitle] = useState(\"\");\n\n  useEffect(() => {\n    retrieveProducts();\n  }, []);\n\n  const onChangeSearchTitle = e =>{\n      const searchTitle = e.target.value;\n      setSearchTitle(searchTitle);\n  };\n\n  const retrieveProducts = () => {\n    ProductDataService.getUser(AuthService.getCurrentUser().id)\n    .then( response => {\n      setProducts(response.data);\n      console.log(response.data);\n    }).catch( e=> {\n      console.log(e);\n    });\n \n  };\n\n  const refreshList = () => {\n    retrieveProducts();\n    setCurrentProduct(null);\n    setCurrentIndex(-1);\n  };\n\n\n  const setActiveProduct = (product, index) => {\n    setCurrentIndex(index);\n    setCurrentProduct(product);\n  };\n\n  const removeAllProduct = () => {\n    ProductDataService.deleteUser(AuthService.getCurrentUser().id)\n    .then(response => {\n      console.log(response.data);\n      refreshList();\n    })\n    .catch(e => {\n      console.log(e);\n    });\n  };\n\n  const findByTitle = () => {\n    ProductDataService.findByTitle(searchTitle)\n    .then( response => {\n      setProducts(response.data);\n      console.log(response.data);\n    })\n    .catch( e => {\n      console.log(e);\n    });\n \n  };\n\n\n\n  return ( \n<div className=\"list row\">\n    <div className=\"col-md-8\">\n      <div className=\"input-group mb-3\">\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Search by title\"\n          value={searchTitle}\n          onChange={onChangeSearchTitle}\n        />\n        <div className=\"input-group-append\">\n          <button\n            className=\"btn btn-outline-secondary\"\n            type=\"button\"\n            onClick={findByTitle}\n          >\n            Search\n          </button>\n        </div>\n      </div>\n    </div>\n    <div className=\"col-md-6\">\n      <h4>Products List</h4>\n\n      <ul className=\"list-group\">\n        {products &&\n          products.map((arc, index) => (\n            <li\n              className={\n                \"list-group-item \" +\n                (index === currentIndex ? \"active\" : \"\")\n              }\n              onClick={() => setActiveProduct(arc, index)}\n              key={index}\n            >\n              {arc.title}\n            </li>\n          ))}\n      </ul>\n\n      <button className=\"m-3 btn btn-sm btn-danger\" onClick={removeAllProduct}>\n        Remove All\n      </button>\n    </div>\n    <div className=\"col-md-6\">\n      {currentProduct ? (\n        <div>\n          <h4>Product</h4>\n          <div>\n            <label>\n              <strong>Title:</strong>\n            </label>{\" \"}\n            {currentProduct.title}\n          </div>\n          <div>\n            <label>\n              <strong>Description:</strong>\n            </label>{\" \"}\n            {currentProduct.description}\n          </div>\n          <div>\n            <label>\n              <strong>Status:</strong>\n            </label>{\" \"}\n            {currentProduct.published ? \"Published\" : \"Pending\"}\n          </div>\n\n          <Link\n            to={\"/product/\" + currentProduct.id}\n            className=\"badge badge-warning\"\n          >\n            Edit\n          </Link>\n        </div>\n      ) : (\n        <div>\n          <br />\n          <p>Please click on a Product...</p>\n        </div>\n      )}\n    </div>\n</div>\n);\n\n};\n\n\nexport default ProductList;"]},"metadata":{},"sourceType":"module"}